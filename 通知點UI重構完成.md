# é€šçŸ¥é» UI é‡æ§‹å®Œæˆ

## æ›´æ–°æ™‚é–“
2026-01-25 22:48

## éƒ¨ç½²ç‹€æ…‹
âœ… å·²éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ

---

## UI é‡æ–°è¨­è¨ˆ

### èˆŠç‰ˆè¨­è¨ˆï¼ˆå·²ç§»é™¤ï¼‰

```
é¡¯ç¤ºæ‰€æœ‰ gatewaysï¼ˆå¡ç‰‡åˆ—è¡¨ï¼‰
æ¯å€‹ gateway å‰é¢æœ‰å‹¾é¸æ¡†
å‹¾é¸å¾Œä¸‹æ–¹é¡¯ç¤ºè‡ªè¨‚è¨Šæ¯è¼¸å…¥æ¡†
```

### æ–°ç‰ˆè¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€šçŸ¥é»ç®¡ç†              [é»ä½è¨­å®š]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æˆ‘çš„é€šçŸ¥é» (3)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Table é¡¯ç¤ºå·²é¸æ“‡çš„é€šçŸ¥é»              â”‚
â”‚ - æ¥æ”¶å™¨åç¨±                         â”‚
â”‚ - ä½ç½®                              â”‚
â”‚ - é¡å‹                              â”‚
â”‚ - åºè™Ÿ                              â”‚
â”‚ - å»ºç«‹æ™‚é–“                           â”‚
â”‚ - æ“ä½œï¼ˆåˆªé™¤ï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é»æ“Šã€Œé»ä½è¨­å®šã€æŒ‰éˆ• â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¸æ“‡é€šçŸ¥é»ä½              [X]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” æœå°‹æ¥æ”¶å™¨...]                   â”‚
â”‚ å…± 10 å€‹æ¥æ”¶å™¨ï¼Œå·²é¸æ“‡ 3 å€‹          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ ç¤¾å€å¤§é–€                          â”‚
â”‚   å°åŒ—å¸‚å¤§å®‰å€XXè·¯                  â”‚
â”‚   å®‰å…¨å€åŸŸ | g-26-01-0001          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ æ´»å‹•ä¸­å¿ƒ                          â”‚
â”‚   ç¤¾å€2æ¨“                           â”‚
â”‚   è§€å¯Ÿå€åŸŸ | g-26-01-0002          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ å…¬åœ’å…¥å£                          â”‚
â”‚   ...                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 [é—œé–‰]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸»è¦è®Šæ›´

### 1. Table é¡¯ç¤ºæˆ‘çš„é€šçŸ¥é»

**ä½ç½®**ï¼šé é¢ä¸»è¦å€åŸŸ

**é¡¯ç¤ºå…§å®¹**ï¼š
- æ¥æ”¶å™¨åç¨±ï¼ˆå¸¶åœ–ç¤ºï¼‰
- ä½ç½®
- é¡å‹æ¨™ç±¤ï¼ˆé¡è‰²å€åˆ†ï¼‰
- åºè™Ÿ
- å»ºç«‹æ™‚é–“
- åˆªé™¤æŒ‰éˆ•ï¼ˆADMIN å¯è¦‹ï¼‰

**å„ªé»**ï¼š
- æ¸…æ¥šçœ‹åˆ°æ‰€æœ‰å·²è¨­å®šçš„é€šçŸ¥é»
- è¡¨æ ¼æ ¼å¼ï¼Œè³‡è¨Šä¸€ç›®äº†ç„¶
- ä¾¿æ–¼ç®¡ç†å’Œæª¢è¦–

### 2. é»ä½è¨­å®š Modal

**è§¸ç™¼æ–¹å¼**ï¼š
- é»æ“Šå³ä¸Šè§’ã€Œé»ä½è¨­å®šã€æŒ‰éˆ•
- æˆ–åœ¨ç©ºç‹€æ…‹é»æ“Šã€Œé–‹å§‹è¨­å®šã€

**Modal åŠŸèƒ½**ï¼š
- **æœå°‹æ¡†**ï¼šè¼¸å…¥åç¨±ã€ä½ç½®æˆ–åºè™Ÿæœå°‹
- **çµ±è¨ˆè³‡è¨Š**ï¼šé¡¯ç¤ºç¸½æ•¸å’Œå·²é¸æ“‡æ•¸é‡
- **Gateway åˆ—è¡¨**ï¼š
  - é¡¯ç¤ºæ‰€æœ‰ç³»çµ±ä¸­çš„ gateways
  - å‹¾é¸æ¡†æ¨™ç¤ºé¸æ“‡ç‹€æ…‹
  - é»æ“Šé …ç›®å³å¯å‹¾é¸/å–æ¶ˆ
  - å³æ™‚æ›´æ–°
- **é—œé–‰æŒ‰éˆ•**ï¼šå®Œæˆå¾Œé—œé–‰ Modal

### 3. ç§»é™¤çš„åŠŸèƒ½

- âŒ è‡ªè¨‚é€šçŸ¥è¨Šæ¯è¼¸å…¥æ¡†
- âŒ é€šçŸ¥æ ¼å¼é è¦½
- âŒ æ›´æ–°æŒ‰éˆ•

### 4. çµ±ä¸€é€šçŸ¥æ ¼å¼

**LINE é€šçŸ¥å…§å®¹**ï¼š
```
æ¨™é¡Œï¼šæ–°åµæ¸¬é€šçŸ¥
å…§å®¹ï¼š{é•·è¼©} å‡ºç¾åœ¨ {ä½ç½®} é™„è¿‘
```

---

## æ“ä½œæµç¨‹

### è¨­å®šé€šçŸ¥é»

```
1. é»æ“Šã€Œé»ä½è¨­å®šã€æŒ‰éˆ•
   â†“
2. Modal é–‹å•Ÿï¼Œé¡¯ç¤ºæ‰€æœ‰ gateways
   â†“
3. ä½¿ç”¨æœå°‹æ¡†éæ¿¾ï¼ˆé¸å¡«ï¼‰
   â†“
4. é»æ“Šæƒ³è¦çš„ gatewayï¼ˆå‹¾é¸ï¼‰
   â†“
5. é»æ“Šå…¶ä»– gatewayï¼ˆç¹¼çºŒå‹¾é¸ï¼‰
   â†“
6. é»æ“Šã€Œé—œé–‰ã€
   â†“
7. Table æ›´æ–°ï¼Œé¡¯ç¤ºå·²é¸æ“‡çš„é€šçŸ¥é»
```

### ç§»é™¤é€šçŸ¥é»

```
æ–¹å¼ Aï¼ˆå¾ Tableï¼‰ï¼š
  é»æ“Šé€šçŸ¥é»çš„ã€Œåˆªé™¤ã€æŒ‰éˆ• â†’ ç¢ºèª â†’ ç§»é™¤

æ–¹å¼ Bï¼ˆå¾ Modalï¼‰ï¼š
  é»æ“Šã€Œé»ä½è¨­å®šã€ â†’ å–æ¶ˆå‹¾é¸ â†’ é—œé–‰
```

---

## æ–°å»ºçš„æª”æ¡ˆ

### GatewaySelectionModal.tsx

**ä½ç½®**ï¼š`community-portal/src/components/GatewaySelectionModal.tsx`

**åŠŸèƒ½**ï¼š
- æœå°‹æ¡†
- Gateway åˆ—è¡¨ï¼ˆå¯æ»¾å‹•ï¼‰
- å‹¾é¸ç‹€æ…‹æ¨™ç¤º
- é»æ“Šåˆ‡æ›é¸æ“‡

**ç‰¹é»**ï¼š
- å¤§ Modal (xl size)
- å…§å®¹å€åŸŸå¯æ»¾å‹•ï¼ˆæœ€å¤§ 60vhï¼‰
- å³æ™‚æœå°‹éæ¿¾
- é¡¯ç¤ºçµ±è¨ˆè³‡è¨Š

---

## ä¿®æ”¹çš„æª”æ¡ˆ

### NotificationPointsScreen.tsx

**å®Œå…¨é‡å¯«**ï¼Œæ–°æ¶æ§‹ï¼š

**ä¸»è¦å€å¡Š**ï¼š
1. Headerï¼ˆæ¨™é¡Œ + é»ä½è¨­å®šæŒ‰éˆ•ï¼‰
2. Tableï¼ˆé¡¯ç¤ºæˆ‘çš„é€šçŸ¥é»ï¼‰
3. Modalï¼ˆGateway é¸æ“‡ï¼‰

**ç§»é™¤çš„ä»£ç¢¼**ï¼š
- èˆŠçš„å¡ç‰‡åˆ—è¡¨é¡¯ç¤º
- è‡ªè¨‚è¨Šæ¯ç®¡ç†
- é€šçŸ¥æ ¼å¼é è¦½

---

## Table æ¬„ä½èªªæ˜

### æ¥æ”¶å™¨åç¨±
- é¡¯ç¤º gateway.name æˆ–é€šçŸ¥é»çš„ name
- å¸¶ MapPin åœ–ç¤º
- å­—é«”åŠ ç²—

### ä½ç½®
- é¡¯ç¤º gateway.location
- å¦‚æœæ²’æœ‰é¡¯ç¤ºã€Œ-ã€

### é¡å‹
- é¡¯ç¤ºå½©è‰²æ¨™ç±¤
- å­¸æ ¡å€åŸŸï¼ˆè—è‰²ï¼‰
- å®‰å…¨å€åŸŸï¼ˆç¶ è‰²ï¼‰
- è§€å¯Ÿå€åŸŸï¼ˆé»ƒè‰²ï¼‰
- æœªå•Ÿç”¨ï¼ˆç°è‰²ï¼‰

### åºè™Ÿ
- é¡¯ç¤º gateway.serialNumber
- ç­‰å¯¬å­—é«”ï¼ˆfont-monoï¼‰
- å°å­—

### å»ºç«‹æ™‚é–“
- æ ¼å¼ï¼šyyyy/MM/dd
- å¸¶æ™‚é˜åœ–ç¤º
- å°å­—ç°è‰²

### æ“ä½œ
- åˆªé™¤æŒ‰éˆ•ï¼ˆç´…è‰²ï¼‰
- åªæœ‰ ADMIN å¯è¦‹
- é»æ“Šç¢ºèªå¾Œåˆªé™¤

---

## æœå°‹åŠŸèƒ½

### æœå°‹ç¯„åœ

å¯ä»¥æœå°‹ï¼š
- Gateway åç¨±
- Gateway ä½ç½®
- Gateway åºè™Ÿ

### æœå°‹é‚è¼¯

```typescript
gateway.name?.toLowerCase().includes(search) ||
gateway.location?.toLowerCase().includes(search) ||
gateway.serialNumber?.toLowerCase().includes(search)
```

### å³æ™‚éæ¿¾

è¼¸å…¥æœå°‹è© â†’ åˆ—è¡¨å³æ™‚éæ¿¾ â†’ é¡¯ç¤ºç¬¦åˆçš„ gateways

---

## ç”¨æˆ¶é«”é©—æ”¹é€²

### æ“ä½œæ›´ç›´è§€

**èˆŠç‰ˆ**ï¼š
- éœ€è¦æ²å‹•æ•´å€‹é é¢æŸ¥çœ‹æ‰€æœ‰ gateways
- å‹¾é¸å¾Œé‚„è¦è¨­å®šè¨Šæ¯

**æ–°ç‰ˆ**ï¼š
- Table æ¸…æ¥šé¡¯ç¤ºå·²è¨­å®šçš„é€šçŸ¥é»
- é»æ“ŠæŒ‰éˆ•é–‹å•Ÿ Modal ç®¡ç†
- æœå°‹å¿«é€Ÿæ‰¾åˆ°æƒ³è¦çš„ gateway
- å‹¾é¸å³å®Œæˆï¼Œç„¡éœ€é¡å¤–è¨­å®š

### è³‡è¨Šæ›´æ¸…æ™°

**èˆŠç‰ˆ**ï¼š
- æ··é›œé¡¯ç¤ºå·²é¸å’Œæœªé¸çš„ gateways
- é›£ä»¥å€åˆ†å“ªäº›æ˜¯é€šçŸ¥é»

**æ–°ç‰ˆ**ï¼š
- Table åªé¡¯ç¤ºå·²è¨­å®šçš„é€šçŸ¥é»
- Modal é¡¯ç¤ºæ‰€æœ‰å¯é¸é …
- æ¸…æ¥šçš„å‹¾é¸ç‹€æ…‹æ¨™ç¤º

---

## æ¬Šé™æ§åˆ¶

### ADMIN è§’è‰²
- âœ… çœ‹åˆ°ã€Œé»ä½è¨­å®šã€æŒ‰éˆ•
- âœ… å¯ä»¥å‹¾é¸/å–æ¶ˆå‹¾é¸ gateway
- âœ… å¯ä»¥åˆªé™¤é€šçŸ¥é»
- âœ… Modal ä¸­å¯ä»¥é»æ“Šåˆ‡æ›

### MEMBER è§’è‰²
- âœ… å¯ä»¥æŸ¥çœ‹ Tableï¼ˆå·²è¨­å®šçš„é€šçŸ¥é»ï¼‰
- âŒ çœ‹ä¸åˆ°ã€Œé»ä½è¨­å®šã€æŒ‰éˆ•
- âŒ ç„¡æ³•ä¿®æ”¹æˆ–åˆªé™¤

---

## æ¸¬è©¦æ­¥é©Ÿ

### 1. è¨ªå•é€šçŸ¥é»é é¢

```
https://safe-net-tw.web.app/community/notification-points
```

**é©—è­‰**ï¼š
- [ ] çœ‹åˆ° Tableï¼ˆæ¨™é¡Œã€Œæˆ‘çš„é€šçŸ¥é»ã€ï¼‰
- [ ] å³ä¸Šè§’æœ‰ã€Œé»ä½è¨­å®šã€æŒ‰éˆ•
- [ ] å¦‚æœæ²’æœ‰é€šçŸ¥é»ï¼Œé¡¯ç¤ºç©ºç‹€æ…‹

### 2. é»æ“Šã€Œé»ä½è¨­å®šã€

**é©—è­‰**ï¼š
- [ ] Modal é–‹å•Ÿ
- [ ] æ¨™é¡Œã€Œé¸æ“‡é€šçŸ¥é»ä½ã€
- [ ] æœ‰æœå°‹æ¡†
- [ ] é¡¯ç¤ºçµ±è¨ˆï¼ˆå…± X å€‹ï¼Œå·²é¸ Y å€‹ï¼‰
- [ ] é¡¯ç¤ºæ‰€æœ‰ gateways

### 3. æ¸¬è©¦æœå°‹

åœ¨æœå°‹æ¡†è¼¸å…¥ã€Œå¤§é–€ã€æˆ–ã€Œç¤¾å€ã€

**é©—è­‰**ï¼š
- [ ] åˆ—è¡¨å³æ™‚éæ¿¾
- [ ] åªé¡¯ç¤ºç¬¦åˆçš„é …ç›®
- [ ] æ¸…é™¤æœå°‹è©æ¢å¾©å®Œæ•´åˆ—è¡¨

### 4. å‹¾é¸ Gateway

é»æ“Šä¸€å€‹ gatewayï¼ˆé»æ“Šæ•´å€‹å¡ç‰‡ï¼‰

**é©—è­‰**ï¼š
- [ ] å‹¾é¸æ¡†æ‰“å‹¾
- [ ] èƒŒæ™¯è®Šæˆè—è‰²
- [ ] çµ±è¨ˆæ•¸å­—æ›´æ–°ï¼ˆå·²é¸ +1ï¼‰

### 5. é—œé–‰ Modal

é»æ“Šã€Œé—œé–‰ã€æŒ‰éˆ•

**é©—è­‰**ï¼š
- [ ] Modal é—œé–‰
- [ ] Table æ›´æ–°ï¼Œé¡¯ç¤ºå‰›é¸æ“‡çš„é€šçŸ¥é»
- [ ] é¡¯ç¤ºå®Œæ•´è³‡è¨Šï¼ˆåç¨±ã€ä½ç½®ã€é¡å‹ç­‰ï¼‰

### 6. æ¸¬è©¦åˆªé™¤

åœ¨ Table ä¸­é»æ“Šã€Œåˆªé™¤ã€æŒ‰éˆ•

**é©—è­‰**ï¼š
- [ ] é¡¯ç¤ºç¢ºèªå°è©±æ¡†
- [ ] ç¢ºèªå¾Œé€šçŸ¥é»å¾ Table ç§»é™¤

---

## æŠ€è¡“å¯¦ä½œ

### å…ƒä»¶æ¶æ§‹

```
NotificationPointsScreen
â”œâ”€ Headerï¼ˆæ¨™é¡Œ + æŒ‰éˆ•ï¼‰
â”œâ”€ Tableï¼ˆæˆ‘çš„é€šçŸ¥é»ï¼‰
â”‚  â””â”€ æ¯ä¸€è¡Œï¼šé€šçŸ¥é»è³‡è¨Š + åˆªé™¤æŒ‰éˆ•
â””â”€ GatewaySelectionModal
   â”œâ”€ æœå°‹æ¡†
   â”œâ”€ çµ±è¨ˆè³‡è¨Š
   â”œâ”€ Gateway åˆ—è¡¨ï¼ˆå¯æ»¾å‹•ï¼‰
   â”‚  â””â”€ æ¯å€‹é …ç›®ï¼šå‹¾é¸æ¡† + Gateway è³‡è¨Š
   â””â”€ é—œé–‰æŒ‰éˆ•
```

### ç‹€æ…‹ç®¡ç†

```typescript
// ä¸»é é¢ç‹€æ…‹
const [gateways, setGateways] = useState([]);           // æ‰€æœ‰ gateways
const [notificationPoints, setNotificationPoints] = useState([]);  // æ‰€æœ‰é€šçŸ¥é»
const [showModal, setShowModal] = useState(false);      // Modal é–‹é—œ

// Modal å…§ç‹€æ…‹
const [searchTerm, setSearchTerm] = useState('');       // æœå°‹è©

// è¨ˆç®—å±¬æ€§
const selectedGatewayIds = notificationPoints.filter(p => p.isActive).map(p => p.gatewayId);
const filteredGateways = gateways.filter(g => matches(g, searchTerm));
```

---

## éƒ¨ç½²è³‡è¨Š

### å»ºç½®å¤§å°
- Community Portal: 662 KB (gzip: 204 KB)
- å¢åŠ ç´„ 4 KBï¼ˆæ–°å¢ Modal å…ƒä»¶ï¼‰

### éƒ¨ç½²å…§å®¹
- GatewaySelectionModal å…ƒä»¶
- NotificationPointsScreen å®Œå…¨é‡å¯«
- å…± 10 å€‹æ–‡ä»¶

---

## å®Œæˆ

æ‰€æœ‰è®Šæ›´å·²éƒ¨ç½²ï¼š
- âœ… Table é¡¯ç¤ºæˆ‘çš„é€šçŸ¥é»
- âœ… é»ä½è¨­å®š Modal
- âœ… æœå°‹åŠŸèƒ½
- âœ… ç§»é™¤è‡ªè¨‚è¨Šæ¯
- âœ… çµ±ä¸€é€šçŸ¥æ ¼å¼

ç«‹å³æ¸¬è©¦ï¼š`https://safe-net-tw.web.app/community/notification-points`
